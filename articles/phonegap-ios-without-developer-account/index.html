<!DOCTYPE html:>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <title>Install phone gap apps on iPhone without developer account - spiraltechnology
    </title>
    <link rel="alternate" href="http://www.spiraltechnology.co.uk/feed.xml" type="application/rss+xml" title="simple, pragmatic, elegant code"/>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300"/>
    <link rel="stylesheet" href="/css/main.css"/>
  </head>
  <body>
    <div id="content">
      <nav>
        <div class="menuitem"><a href="/index.html">home</a></div>
        <div class="menuitem"><a href="/blog.html">blog</a></div>
        <div class="menuitem"><a href="/contact.html">contact</a></div>
      </nav>
      <div class="content-wrap">
        <article class="article">
          <h1>Install phone gap apps on iPhone without developer account</h1>
          <section class="content"><p>How to build a phone gap app and deploy to your jailbroken iphone without signing up to Apple’s 99$ developer&nbsp;program.</p>
<p><span class="more"></span></p>
<p>I’ve had a few idea’s recently involving geolocation and wanted to rapidly prototype them to see if they are viable.
I’ve not touched objectiveC for about 4 years and didn’t really like coding in it or Xcode at the time (no doubt tooling
and test infrastructure has changed dramatically since&nbsp;then).</p>
<p>Since the ideas do not have to be massively responsive, I thought I’d try out <a href="http://phonegap.com/">phonegap</a> and write
the code as a small webapp. In theory it allows you to write a web app in javascript and html that gets bundled for ios and android devices without
having to write 2 versions.  If you have a mac you can build your application and use xcode to compile and test it with
xcode on an iphone simulator.  However, I wanted to see how the geolocation worked on a real iphone to see whether the idea
was feasible, and <em>being me</em> didn’t want to pay $99 until I was sure I was going to start creating ios&nbsp;apps.</p>
<p>The following steps were carried out on my Macbook running osx 10.8.5 (Mountain Lion), as far as I can tell they should
also work no problem with Lion and Mavericks, with my Jailbroken iPhone 4&nbsp;(7.04).</p>
<p>If you want to run unsigned code and not pay the $99 you will have to jailbreak your iphone.  This is <a href="http://www.wired.co.uk/news/archive/2010-07/28/investigation-is-it-legal-to-jailbreak-a-uk-iphone">legal</a>
in the <span class="caps">UK</span> but might void your&nbsp;warranty.</p>
<ol>
<li><p>Install xcode. The quickest way to do this is to open the app store, search for xcode and select install, at the moment this is version 5.02
<img src="/articles/phonegap-ios-without-developer-account/download-xcode.png" alt="xcode install button"></p>
</li>
<li><p>Install phonegap.
The latest versions have a requirement on node.js which can be either <a href="http://nodejs.org/download">downloaded</a> or installed using <a href="http://brew.sh/">brew</a>
Open a terminal and use npm to globally install&nbsp;phonegap.</p>
<pre><code class="lang-bash"><span class="built_in">sudo</span> npm install -g phonegap</code></pre>
<p>If successful you should see something similar to the&nbsp;following</p>
<pre><code>/usr/local/bin/phonegap -&gt; /usr/local/lib/node_modules/phonegap/bin/phonegap.js
phonegap@3.3.0-0.18.1 /usr/local/lib/node_modules/phonegap
├── pluralize@0.0.4
├── colors@0.6.0-1
├── semver@1.1.0
├── qrcode-terminal@0.9.4
├── optimist@0.6.0 (wordwrap@0.0.2, minimist@0.0.5)
├── shelljs@0.1.4
├── prompt@0.2.11 (revalidator@0.1.6, pkginfo@0.3.0, read@1.0.5, utile@0.2.1, winston@0.6.2)
├── phonegap-build@0.8.4 (qrcode-terminal@0.8.0, optimist@0.3.7, shelljs@0.0.9, phonegap-build-api@0.3.3)
├── phonegap-soundwave@0.4.0 (home-dir@0.1.2, connect-inject@0.3.2, shelljs@0.2.6, request-progress@0.3.1, tar@0.1.19, node-static@0.7.0, request@2.33.0, connect@2.12.0)
└── cordova@3.3.0-0.1.1 (ncallbacks@1.0.0, colors@0.6.2, open@0.0.3, mime@1.2.11, q@0.9.7, follow-redirects@0.0.3, glob@3.2.8, shelljs@0.1.2, tar@0.1.19, lodash@2.4.1, prompt@0.2.7, xcode@0.6.2, elementtree@0.1.5, request@2.22.0, express@3.0.0, npm@1.3.24, plist@0.4.3, jshint@1.1.0, ripple-emulator@0.9.18, plugman@0.17.0)</code></pre>
</li>
<li><p>Create a test phonegap application to work through any issues, where test1 is the directory that the app is created in,
uk.co.spiraltechnology.test and LocationTest is the name of the&nbsp;app.</p>
<pre><code class="lang-bash">phonegap create test1 uk.co.spiraltechnology.test LocationTest</code></pre>
</li>
<li><p>Once the app is created we can try and compile it for&nbsp;ios.</p>
<pre><code class="lang-bash"><span class="built_in">cd</span> test1
phonegap build ios</code></pre>
<p>If all goes well you will&nbsp;see</p>
<pre><code>[phonegap] detecting iOS SDK environment...
[phonegap] using the local environment
[phonegap] adding the iOS platform...
[phonegap] compiling iOS...
[phonegap] successfully compiled iOS app</code></pre>
<p>It’s now possible to run code on the iphone emulator bundled with&nbsp;xcode.</p>
<pre><code>phonegap run ios --emulator</code></pre>
<p><img src='launching-on-ios-simulator.png' style='width: 250px;' /></p>
</li>
<li><p>In order to run the application on the iphone you need to either sign up for the <a href="https://developer.apple.com/programs/ios/">Apple Developer Program</a>
or <a href="http://www.iclarified.com/jailbreak/">Jailbreak</a> your idevice and&nbsp;.</p>
<p>Assuming you are going for the second option we need to create a self signed certificate that xcode can sign the
code with when constructing the ipa file for the iphone, and we need to make the iphone allow applications to be installed
that have unofficial (self signed)&nbsp;certificates.</p>
<ol>
<li><p>Installing AppSync for iOS 7, to allow our unsigned application to run.
On the jailbroken iDevice, launch the Cydia application and press Manage, then&nbsp;Sources.</p>
<p><img src='cydia-packages.png' alt='cydia package manager' style='width: 250px;' /></p>
<p>Next press Edit, and Add, type in the following Cydia/<span class="caps">APT</span> URL <em>cydia.iphonecake.com</em></p>
<p><img src='cydia-add-source.png' alt='cydia manage sources' style='width: 250px;' /></p>
<p>The iphone will warn that the repository facilitates piracy. This is because the application we are about to install
allows the iphone to run unsigned code (such as the code we are about to write, and also pirated&nbsp;software).</p>
<p>Once the iphonecake source has been added, press the search icon in the bottom right hand corner and at the top of the screen type&nbsp;AppSync</p>
<p><img src='cydia-appsync.png' alt='search for AppSync' style='width: 250px;' /></p>
<p>Select the relevant one for your version of iOS (in this case the latest is for iOS 7) and install&nbsp;it.</p>
</li>
<li><p>Next we need to set up XCode to apply a self signed certificate to the code. Open the Keychain Access&nbsp;application</p>
</li>
</ol>
<ul>
<li>Select Keychain Access &gt; Certificate Assistant &gt; Create A Certificate&nbsp;…</li>
<li><p>On the first page fill in the&nbsp;following</p>
<p>Name: iPhone Developer
Identify Type: Self Signed Root
Certification Type: Code Signing
Select “Let me override defaults” and press continue, it will say “You are about to create a self-signed&nbsp;certificate.”</p>
<p>  <img src='self-signed-iphone-certificate.png' alt='Keychain self signed certificate' style='width: 450px;' /></p>
</li>
<li><p>On the second page fill in the following
Serial number: 1
Validity period :&nbsp;3650</p>
</li>
<li><p>On the third page remove your email&nbsp;address.</p>
</li>
<li>Keep pressing continue until you reach the Specify location page, press&nbsp;create.</li>
</ul>
<ol>
<li>We need to update XCode to use the new certificate.  The following directories are for Xcode&nbsp;5.02.</li>
</ol>
<p>Back up Xcodes plist file and convert it to&nbsp;xml</p>
<pre><code class="lang-bash"><span class="built_in">cd</span> /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform
<span class="built_in">sudo</span> cp -p Info.plist Info.plist.orig
<span class="built_in">sudo</span> plutil -convert xml1 ./Info.plist</code></pre>
<p>Replace each occurrence of CiPhoneOSCodeSignContext with XCCodeSignContext in&nbsp;Info.plist</p>
<pre><code class="lang-bash"><span class="built_in">sudo</span> sed -i .bkup <span class="string">'s/XCiPhoneOSCodeSignContext/XCCodeSignContext/g'</span> ./Info.plist</code></pre>
<ol>
<li>Check it’s&nbsp;working</li>
</ol>
<pre><code class="lang-bash">phonegap install ios</code></pre>
<p>You will be asked if you want to allow codesign to have access to the iPhone Developer key in your keychain, say Always Allow
and the app should be push onto the&nbsp;iphone.</p>
</li>
</ol>
</section>
        </article>
        <div class="nav"><a href="/blog.html">« Back to blog</a></div>
      </div>
    </div>
    <footer>
            <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
            <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>
            <script type="text/javascript">
              //if(screen.width > 690) {
                 $.backstretch('/img/woven.jpg',{speed: 200, centeredY: false});
              //}
            </script>
    </footer>
  </body>
</html>